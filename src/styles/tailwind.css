/* VibeReader Enhanced - Complete Tailwind CSS System */
/* Ported from legacy nightdrive-tailwind.css + missing components */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ============================================================================ */
  /* COMPLETE 4-THEME SYSTEM - Data Attribute Based Theme Switching */
  /* ============================================================================ */
  /* Usage: <html data-theme="nightdrive" class="dark"> */
  /* Themes: nightdrive, neon-surge, outrun-storm, strange-days */
  /* Modes: dark, light */

  /* ============================================================================ */
  /* NIGHTDRIVE ENHANCED - Classic synthwave with improved readability */
  /* ============================================================================ */
  
  [data-theme="nightdrive"] {
    /* Primary - Neon Pink Spectrum */
    --primary-50: 255 192 203; --primary-100: 255 182 193; --primary-200: 255 148 198;
    --primary-300: 255 105 180; --primary-400: 255 75 156; --primary-500: 249 38 114;
    --primary-600: 224 110 146; --primary-700: 215 61 133; --primary-800: 192 58 105; --primary-900: 164 0 85;

    /* Secondary - Electric Cyan Spectrum */
    --secondary-50: 224 255 255; --secondary-100: 179 255 255; --secondary-200: 136 255 255;
    --secondary-300: 0 255 255; --secondary-400: 0 191 255; --secondary-500: 102 217 239;
    --secondary-600: 126 200 227; --secondary-700: 90 79 207; --secondary-800: 74 150 255; --secondary-900: 0 120 168;

    /* Accent - Golden/Orange Spectrum */
    --accent-50: 255 243 160; --accent-100: 255 234 0; --accent-200: 255 221 68;
    --accent-300: 255 195 0; --accent-400: 230 219 116; --accent-500: 255 191 128;
    --accent-600: 255 154 96; --accent-700: 255 140 60; --accent-800: 255 111 48; --accent-900: 204 77 0;

    /* Success/Warning/Error/Info/Neutral scales */
    --success-50: 204 255 204; --success-100: 152 255 152; --success-200: 168 230 207;
    --success-300: 0 255 127; --success-400: 50 205 50; --success-500: 166 226 46;
    --success-600: 32 178 170; --success-700: 0 255 0; --success-800: 0 92 0; --success-900: 0 50 0;

    --warning-50: 255 224 176; --warning-100: 255 191 128; --warning-200: 255 154 96;
    --warning-300: 255 140 60; --warning-400: 255 111 48; --warning-500: 253 151 31;
    --warning-600: 255 111 32; --warning-700: 204 77 0; --warning-800: 168 43 43; --warning-900: 139 33 33;

    --error-50: 255 148 198; --error-100: 255 111 156; --error-200: 255 75 156;
    --error-300: 255 20 147; --error-400: 224 110 146; --error-500: 253 151 31;
    --error-600: 215 61 133; --error-700: 192 58 105; --error-800: 191 0 72; --error-900: 155 0 67;

    --info-50: 224 176 255; --info-100: 218 112 214; --info-200: 210 124 187;
    --info-300: 199 93 225; --info-400: 185 134 193; --info-500: 174 129 255;
    --info-600: 155 89 182; --info-700: 138 43 226; --info-800: 123 80 178; --info-900: 106 32 181;

    --neutral-50: 247 247 247; --neutral-100: 240 240 240; --neutral-200: 225 225 225;
    --neutral-300: 192 192 192; --neutral-400: 176 176 176; --neutral-500: 169 169 169;
    --neutral-600: 128 128 128; --neutral-700: 105 105 105; --neutral-800: 79 79 79; --neutral-900: 51 51 51;

    /* Dark mode backgrounds */
    --bg-primary: 28 28 28; --bg-secondary: 44 26 41; --bg-tertiary: 40 27 76;
    --bg-elevated: 43 28 84; --bg-surface: 30 30 63; --bg-overlay: 55 46 99;
    
    /* Dark mode text */
    --text-primary: 247 247 247; --text-secondary: 224 176 255; --text-muted: 234 184 228;
    --text-disabled: 185 134 193; --text-inverse: 28 28 28;
    
    /* Dark mode borders */
    --border-subtle: 74 44 120; --border-default: 95 75 140; --border-strong: 123 80 178; --border-accent: 249 38 114;
  }

  [data-theme="nightdrive"].light {
    --bg-primary: 247 247 247; --bg-secondary: 230 230 250; --bg-tertiary: 241 212 237;
    --bg-elevated: 224 255 255; --bg-surface: 240 183 231; --bg-overlay: 234 184 228;
    --text-primary: 44 26 41; --text-secondary: 55 46 99; --text-muted: 95 75 140;
    --text-disabled: 155 89 182; --text-inverse: 247 247 247;
    --border-subtle: 224 176 255; --border-default: 210 124 187; --border-strong: 185 134 193; --border-accent: 106 32 181;
  }

  /* ============================================================================ */
  /* NEON SURGE - Electric Blade Runner aesthetic */
  /* ============================================================================ */
  
  [data-theme="neon-surge"] {
    /* Primary - Electric Pink Spectrum */
    --primary-50: 255 192 203; --primary-100: 255 128 193; --primary-200: 255 105 180;
    --primary-300: 255 70 184; --primary-400: 255 63 132; --primary-500: 255 20 147;
    --primary-600: 242 30 148; --primary-700: 224 110 146; --primary-800: 213 0 109; --primary-900: 191 0 72;

    /* Secondary - Electric Cyan Spectrum */
    --secondary-50: 224 255 255; --secondary-100: 179 255 255; --secondary-200: 136 255 255;
    --secondary-300: 0 255 255; --secondary-400: 0 191 255; --secondary-500: 13 92 255;
    --secondary-600: 74 150 255; --secondary-700: 0 120 168; --secondary-800: 0 91 153; --secondary-900: 0 63 103;

    /* Accent - Electric Yellow Spectrum */
    --accent-50: 255 243 160; --accent-100: 255 234 0; --accent-200: 255 221 68;
    --accent-300: 255 195 0; --accent-400: 255 191 0; --accent-500: 255 204 0;
    --accent-600: 230 230 0; --accent-700: 255 240 51; --accent-800: 255 191 128; --accent-900: 204 77 0;

    --success-50: 204 255 204; --success-100: 152 255 152; --success-200: 0 255 127;
    --success-300: 50 205 50; --success-400: 32 178 170; --success-500: 0 178 210;
    --success-600: 0 133 122; --success-700: 0 255 0; --success-800: 0 92 0; --success-900: 0 50 0;

    --warning-50: 255 224 176; --warning-100: 255 191 128; --warning-200: 255 154 96;
    --warning-300: 255 140 60; --warning-400: 255 111 48; --warning-500: 255 195 0;
    --warning-600: 255 111 32; --warning-700: 204 77 0; --warning-800: 168 43 43; --warning-900: 139 33 33;

    --error-50: 255 148 198; --error-100: 255 111 156; --error-200: 255 75 156;
    --error-300: 255 20 147; --error-400: 224 110 146; --error-500: 213 0 109;
    --error-600: 215 61 133; --error-700: 192 58 105; --error-800: 191 0 72; --error-900: 155 0 67;

    --info-50: 224 255 255; --info-100: 179 255 255; --info-200: 136 255 255;
    --info-300: 0 255 255; --info-400: 0 191 255; --info-500: 13 92 255;
    --info-600: 74 150 255; --info-700: 0 120 168; --info-800: 0 91 153; --info-900: 0 63 103;

    --neutral-50: 247 247 247; --neutral-100: 240 240 240; --neutral-200: 225 225 225;
    --neutral-300: 192 192 192; --neutral-400: 176 176 176; --neutral-500: 105 105 105;
    --neutral-600: 128 128 128; --neutral-700: 105 105 105; --neutral-800: 79 79 79; --neutral-900: 51 51 51;

    /* Pure black backgrounds for maximum contrast */
    --bg-primary: 0 0 0; --bg-secondary: 13 13 42; --bg-tertiary: 15 11 30;
    --bg-elevated: 25 25 112; --bg-surface: 0 17 34; --bg-overlay: 25 25 112;
    
    --text-primary: 255 255 255; --text-secondary: 0 255 255; --text-muted: 136 255 255;
    --text-disabled: 74 150 255; --text-inverse: 0 0 0;
    --border-subtle: 0 63 103; --border-default: 13 92 255; --border-strong: 74 150 255; --border-accent: 255 20 147;
  }

  [data-theme="neon-surge"].light {
    --bg-primary: 240 240 240; --bg-secondary: 224 255 255; --bg-tertiary: 255 218 185;
    --bg-elevated: 255 192 203; --bg-surface: 247 247 247; --bg-overlay: 255 192 203;
    --text-primary: 0 17 34; --text-secondary: 13 13 42; --text-muted: 25 25 112;
    --text-disabled: 0 91 153; --text-inverse: 247 247 247;
    --border-subtle: 136 255 255; --border-default: 74 150 255; --border-strong: 13 92 255; --border-accent: 191 0 72;
  }

  /* ============================================================================ */
  /* OUTRUN STORM - Dramatic weather synthwave */
  /* ============================================================================ */
  
  [data-theme="outrun-storm"] {
    /* Primary - Storm Purple Spectrum */
    --primary-50: 224 176 255; --primary-100: 218 112 214; --primary-200: 199 93 225;
    --primary-300: 185 134 193; --primary-400: 155 89 182; --primary-500: 138 43 226;
    --primary-600: 123 80 178; --primary-700: 106 32 181; --primary-800: 92 46 145; --primary-900: 75 0 130;

    /* Secondary - Sunset Orange Spectrum */
    --secondary-50: 255 224 176; --secondary-100: 255 191 128; --secondary-200: 255 154 96;
    --secondary-300: 255 140 60; --secondary-400: 255 111 48; --secondary-500: 255 111 32;
    --secondary-600: 255 111 145; --secondary-700: 253 151 31; --secondary-800: 204 77 0; --secondary-900: 168 43 43;

    /* Accent - Electric Sky Spectrum */
    --accent-50: 224 255 255; --accent-100: 173 216 230; --accent-200: 135 206 250;
    --accent-300: 126 200 227; --accent-400: 106 141 182; --accent-500: 90 79 207;
    --accent-600: 75 98 176; --accent-700: 70 130 180; --accent-800: 88 104 153; --accent-900: 75 44 142;

    --success-50: 204 255 204; --success-100: 152 255 152; --success-200: 0 255 127;
    --success-300: 50 205 50; --success-400: 32 178 170; --success-500: 0 133 122;
    --success-600: 0 133 122; --success-700: 0 255 0; --success-800: 0 92 0; --success-900: 0 50 0;

    --warning-50: 255 224 176; --warning-100: 255 191 128; --warning-200: 255 154 96;
    --warning-300: 255 140 60; --warning-400: 255 111 48; --warning-500: 255 140 60;
    --warning-600: 255 111 32; --warning-700: 204 77 0; --warning-800: 168 43 43; --warning-900: 139 33 33;

    --error-50: 255 148 198; --error-100: 255 111 156; --error-200: 255 75 156;
    --error-300: 255 20 147; --error-400: 224 110 146; --error-500: 199 75 106;
    --error-600: 215 61 133; --error-700: 192 58 105; --error-800: 191 0 72; --error-900: 155 0 67;

    --info-50: 224 176 255; --info-100: 173 216 230; --info-200: 135 206 250;
    --info-300: 126 200 227; --info-400: 106 141 182; --info-500: 88 104 153;
    --info-600: 75 98 176; --info-700: 70 130 180; --info-800: 88 104 153; --info-900: 75 44 142;

    --neutral-50: 247 247 247; --neutral-100: 240 240 240; --neutral-200: 225 225 225;
    --neutral-300: 192 192 192; --neutral-400: 176 176 176; --neutral-500: 139 155 179;
    --neutral-600: 128 128 128; --neutral-700: 105 105 105; --neutral-800: 79 79 79; --neutral-900: 51 51 51;

    --bg-primary: 15 11 30; --bg-secondary: 30 26 120; --bg-tertiary: 40 27 76;
    --bg-elevated: 43 28 84; --bg-surface: 43 28 84; --bg-overlay: 60 42 120;
    
    --text-primary: 224 176 255; --text-secondary: 218 112 214; --text-muted: 199 93 225;
    --text-disabled: 155 89 182; --text-inverse: 15 11 30;
    --border-subtle: 75 44 142; --border-default: 92 46 145; --border-strong: 123 80 178; --border-accent: 255 111 32;
  }

  [data-theme="outrun-storm"].light {
    --bg-primary: 240 240 240; --bg-secondary: 224 176 255; --bg-tertiary: 255 191 128;
    --bg-elevated: 218 112 214; --bg-surface: 173 216 230; --bg-overlay: 218 112 214;
    --text-primary: 40 27 76; --text-secondary: 55 46 99; --text-muted: 92 46 145;
    --text-disabled: 123 80 178; --text-inverse: 247 247 247;
    --border-subtle: 199 93 225; --border-default: 185 134 193; --border-strong: 155 89 182; --border-accent: 204 77 0;
  }

  /* ============================================================================ */
  /* STRANGE DAYS - Cyberpunk underground */
  /* ============================================================================ */
  
  [data-theme="strange-days"] {
    /* Primary - Phantom Pink Spectrum */
    --primary-50: 255 192 203; --primary-100: 255 182 193; --primary-200: 255 128 193;
    --primary-300: 255 104 163; --primary-400: 255 76 143; --primary-500: 255 70 184;
    --primary-600: 224 110 146; --primary-700: 218 59 106; --primary-800: 192 58 105; --primary-900: 155 0 67;

    /* Secondary - Lime Energy Spectrum */
    --secondary-50: 204 255 204; --secondary-100: 152 255 152; --secondary-200: 0 255 127;
    --secondary-300: 50 205 50; --secondary-400: 166 226 46; --secondary-500: 32 178 170;
    --secondary-600: 0 178 169; --secondary-700: 0 133 122; --secondary-800: 0 92 0; --secondary-900: 0 50 0;

    /* Accent - Cosmic Purple Spectrum */
    --accent-50: 224 176 255; --accent-100: 218 112 214; --accent-200: 199 93 225;
    --accent-300: 185 134 193; --accent-400: 165 76 147; --accent-500: 147 27 133;
    --accent-600: 138 63 150; --accent-700: 110 64 130; --accent-800: 95 75 140; --accent-900: 75 0 63;

    --success-50: 204 255 204; --success-100: 152 255 152; --success-200: 0 255 127;
    --success-300: 50 205 50; --success-400: 166 226 46; --success-500: 32 178 170;
    --success-600: 0 178 169; --success-700: 0 133 122; --success-800: 0 92 0; --success-900: 0 50 0;

    --warning-50: 255 148 198; --warning-100: 255 111 156; --warning-200: 255 75 156;
    --warning-300: 255 20 147; --warning-400: 224 110 146; --warning-500: 199 75 106;
    --warning-600: 215 61 133; --warning-700: 192 58 105; --warning-800: 191 0 72; --warning-900: 155 0 67;

    --error-50: 255 128 193; --error-100: 255 104 163; --error-200: 255 76 143;
    --error-300: 255 70 184; --error-400: 224 110 146; --error-500: 218 59 106;
    --error-600: 192 58 105; --error-700: 192 58 105; --error-800: 191 0 72; --error-900: 155 0 67;

    --info-50: 224 176 255; --info-100: 218 112 214; --info-200: 199 93 225;
    --info-300: 185 134 193; --info-400: 165 76 147; --info-500: 147 27 133;
    --info-600: 138 63 150; --info-700: 110 64 130; --info-800: 95 75 140; --info-900: 75 0 63;

    --neutral-50: 247 247 247; --neutral-100: 240 240 240; --neutral-200: 225 225 225;
    --neutral-300: 192 192 192; --neutral-400: 176 176 176; --neutral-500: 166 166 166;
    --neutral-600: 128 128 128; --neutral-700: 105 105 105; --neutral-800: 79 79 79; --neutral-900: 51 51 51;

    --bg-primary: 26 26 26; --bg-secondary: 44 26 41; --bg-tertiary: 46 46 52;
    --bg-elevated: 55 46 99; --bg-surface: 40 27 76; --bg-overlay: 55 46 99;
    
    --text-primary: 224 176 255; --text-secondary: 152 255 152; --text-muted: 218 112 214;
    --text-disabled: 185 134 193; --text-inverse: 26 26 26;
    --border-subtle: 75 0 63; --border-default: 95 75 140; --border-strong: 147 27 133; --border-accent: 255 70 184;
  }

  [data-theme="strange-days"].light {
    --bg-primary: 247 247 247; --bg-secondary: 228 167 183; --bg-tertiary: 234 184 228;
    --bg-elevated: 204 255 204; --bg-surface: 224 176 255; --bg-overlay: 204 255 204;
    --text-primary: 44 26 41; --text-secondary: 55 46 99; --text-muted: 95 75 140;
    --text-disabled: 147 27 133; --text-inverse: 247 247 247;
    --border-subtle: 185 134 193; --border-default: 199 93 225; --border-strong: 147 27 133; --border-accent: 50 205 50;
  }
}

@layer components {
  /* ==========================================================================
     CORE LAYOUT SYSTEM
     ========================================================================== */
  
  /* Main Container - Extension Overlay */
  .vibe-container {
    @apply fixed inset-0 bg-bg-primary z-extension font-mono text-text-primary;
  }
  
  .vibe-container.initializing {
    @apply animate-pulse;
  }
  
  .vibe-container.extracting {
    @apply animate-synthwave-scan;
  }
  
  .vibe-container.ready {
    @apply animate-none;
  }
  
  .vibe-container.error {
    @apply animate-neon-pulse;
  }
  
  /* Legacy class mappings */
  .vibe-reader-container,
  .vibe-reader-overlay,
  .vibe-reader-proxy {
    @apply vibe-container;
  }
  
  /* Header System */
  .vibe-header {
    @apply flex justify-between items-center p-4 bg-bg-secondary border-b border-border-accent z-header relative;
  }
  
  .vibe-header-left,
  .brand-section {
    @apply flex items-center gap-4;
  }
  
  .vibe-header-right,
  .controls-section {
    @apply flex items-center gap-2;
  }
  
  .vibe-brand {
    @apply text-primary-500 font-bold tracking-wider animate-neon-pulse;
  }
  
  .vibe-status {
    @apply text-text-secondary text-sm;
  }
  
  .vibe-status[data-status="extracting"] {
    @apply text-accent-500 animate-pulse;
  }
  
  .vibe-status[data-status="ready"] {
    @apply text-secondary-500;
  }
  
  .vibe-status[data-status="error"] {
    @apply text-error-500 animate-neon-pulse;
  }
  
  .vibe-separator {
    @apply text-border-accent opacity-60;
  }
  
  /* Layout Grid System */
  .vibe-layout {
    @apply grid grid-cols-1 lg:grid-cols-[300px_1fr_300px] min-h-screen gap-0 z-content;
  }
  
  .vibe-layout[data-sidebars="false"] {
    @apply lg:grid-cols-[0_1fr_0];
  }
  
  .vibe-layout[data-sidebars="left-only"] {
    @apply lg:grid-cols-[300px_1fr_0];
  }
  
  .vibe-layout[data-sidebars="right-only"] {
    @apply lg:grid-cols-[0_1fr_300px];
  }
  
  .vibe-sidebar-spacer {
    @apply hidden lg:block w-0 overflow-hidden;
  }
  
  /* Content Area */
  .vibe-content {
    @apply p-6 overflow-y-auto bg-bg-primary relative z-content;
  }
  
  .vibe-content[data-content="extracting"] {
    @apply animate-pulse;
  }
  
  .vibe-content[data-content="article"] {
    @apply animate-none;
  }
  
  .vibe-content[data-content="error"] {
    @apply bg-bg-tertiary border border-error-500 animate-neon-pulse;
  }
  
  /* Article Container */
  .vibe-article {
    @apply max-w-none mx-auto bg-bg-primary p-0;
  }
  
  .vibe-article[data-reading="optimal"] {
    @apply max-w-4xl;
  }
  
  .vibe-article[data-reading="wide"] {
    @apply max-w-none;
  }
  
  .vibe-article[data-reading="narrow"] {
    @apply max-w-2xl;
  }

  /* ==========================================================================
     TERMINAL SYSTEM
     ========================================================================== */
  
  /* Base Terminal Components */
  .terminal-window {
    @apply bg-bg-surface border border-border-accent rounded-lg shadow-lg z-sidebar;
  }
  
  .terminal-header {
    @apply flex justify-between items-center p-3 bg-bg-elevated border-b border-border-default rounded-t-lg;
  }
  
  .terminal-title {
    @apply text-primary-400 font-mono text-sm font-bold tracking-wider;
  }
  
  .terminal-controls {
    @apply flex gap-1;
  }
  
  .terminal-content {
    @apply p-4 bg-bg-primary rounded-b-lg overflow-y-auto max-h-96 font-mono text-xs;
  }
  
  .terminal-output {
    @apply text-text-secondary leading-relaxed;
  }
  
  /* Terminal Variants - Left/Right */
  .terminal-left {
    @apply terminal-window;
  }
  
  .terminal-right {
    @apply terminal-window;
  }
  
  /* Terminal Modal Variants */
  .modal-terminal {
    @apply terminal-window z-modal fixed max-w-2xl;
  }
  
  .modal-terminal-left {
    @apply modal-terminal left-4 top-1/2 transform -translate-y-1/2;
  }
  
  .modal-terminal-right {
    @apply modal-terminal right-4 top-1/2 transform -translate-y-1/2;
  }
  
  /* Terminal LED Indicators */
  .led-indicator {
    @apply w-2 h-2 rounded-full;
  }
  
  .led-indicator.active {
    @apply bg-success-500 shadow-lg;
    box-shadow: 0 0 8px rgb(var(--success-500));
  }
  
  .led-indicator.inactive {
    @apply bg-neutral-600;
  }
  
  .led-indicator.error {
    @apply bg-error-500 shadow-lg;
    box-shadow: 0 0 8px rgb(var(--error-500));
  }

  /* ==========================================================================
     BUTTON SYSTEM
     ========================================================================== */
  
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 active:bg-primary-700 text-white;
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
    @apply shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 border-neon;
  }

  .btn-secondary {
    @apply bg-secondary-500 hover:bg-secondary-600 active:bg-secondary-700 text-neutral-900;
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2;
    @apply shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 border-cyber;
  }

  .btn-accent {
    @apply bg-accent-500 hover:bg-accent-600 active:bg-accent-700 text-neutral-900;
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2;
    @apply shadow-lg hover:shadow-xl transform hover:-translate-y-0.5;
  }

  .btn-ghost {
    @apply bg-transparent hover:bg-primary-500/10 text-primary-500;
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200;
    @apply border border-primary-500 hover:border-primary-400;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  /* Legacy button mapping */
  .vibe-btn {
    @apply btn-primary;
  }
  
  .vibe-btn.theme-btn {
    @apply btn-secondary;
  }
  
  .vibe-btn.media-btn {
    @apply btn-accent;
  }
  
  .vibe-btn.disconnect-btn {
    @apply btn-ghost text-error-500 hover:bg-error-500/10 border-error-500;
  }

  /* ==========================================================================
     CARD SYSTEM
     ========================================================================== */
  
  .card {
    @apply glass-morphism rounded-lg shadow-lg hover:shadow-xl transition-all duration-300;
    @apply p-6 space-y-4;
  }

  .card-elevated {
    @apply glass-morphism rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300;
    @apply p-8 space-y-6 transform hover:-translate-y-1;
  }

  /* ==========================================================================
     FORM COMPONENTS
     ========================================================================== */
  
  .input {
    @apply glass-morphism rounded-md px-3 py-2;
    @apply text-text-primary placeholder-text-muted;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
    @apply transition-all duration-200;
  }

  .input:focus {
    @apply bg-bg-surface/30 shadow-lg border-primary-500/50 backdrop-blur-lg;
  }

  /* ==========================================================================
     NAVIGATION COMPONENTS
     ========================================================================== */
  
  .nav-link {
    @apply text-text-secondary hover:text-primary-400 px-3 py-2 rounded-md;
    @apply transition-all duration-200 font-medium;
    @apply hover:bg-primary-500/10;
  }

  .nav-link.active {
    @apply text-primary-400 bg-primary-500/20 border-neon;
  }

  /* ==========================================================================
     BADGE SYSTEM
     ========================================================================== */
  
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-500/20 text-primary-300 border border-primary-500/30;
  }

  .badge-secondary {
    @apply bg-secondary-500/20 text-secondary-300 border border-secondary-500/30;
  }

  .badge-success {
    @apply bg-success-500/20 text-success-300 border border-success-500/30;
  }

  .badge-warning {
    @apply bg-warning-500/20 text-warning-300 border border-warning-500/30;
  }

  .badge-error {
    @apply bg-error-500/20 text-error-300 border border-error-500/30;
  }

  /* ==========================================================================
     MEDIA COMPONENTS
     ========================================================================== */
  
  .media-wrapper {
    @apply relative bg-bg-surface border border-border-default rounded-lg overflow-hidden z-media;
    @apply transition-all duration-300 ease-cyber;
    /* Base hover/focus states with themed borders */
    @apply hover:border-primary-400/60 hover:shadow-neon-primary;
    @apply focus-within:border-primary-500 focus-within:shadow-neon-primary;
    /* Subtle glassmorphism base */
    @apply backdrop-blur-sm;
  }

  /* Media wrapper variants - data attributes for different modes/states */
  .media-wrapper[data-mode="placeholder"] {
    @apply cursor-pointer border-2 border-dashed border-border-subtle;
    @apply bg-bg-elevated/80 backdrop-blur-md;
    /* Enhanced hover with glassmorphism */
    @apply hover:border-primary-500/70 hover:bg-primary-500/5;
    @apply hover:shadow-neon-hover hover:scale-[1.02];
    @apply transition-all duration-200 ease-cyber;
  }

  .media-wrapper[data-mode="ascii"] {
    /* Enhanced glassmorphism for ASCII mode */
    @apply bg-bg-surface/60 backdrop-blur-lg border-2 border-border-default/40;
    @apply p-4 shadow-neon-secondary;
    /* Pixelation effect for retro ASCII aesthetic */
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    /* Themed accent border */
    @apply border-l-4 border-l-accent-400/60;
    /* Enhanced hover states */
    @apply hover:bg-bg-surface/80 hover:border-accent-400/80;
    @apply hover:shadow-neon-accent;
  }

  .media-wrapper[data-mode="image"] {
    @apply p-0;
    /* Subtle glassmorphism for image containers */
    @apply bg-bg-surface/40 backdrop-blur-sm;
    /* Enhanced hover with themed border */
    @apply hover:shadow-neon-primary hover:border-primary-400/50;
  }

  /* Size variants - preset dimensions */
  .media-wrapper[data-size="sm"] {
    @apply max-w-sm max-h-48;
  }

  .media-wrapper[data-size="md"] {
    @apply max-w-lg max-h-64;
  }

  .media-wrapper[data-size="lg"] {
    @apply max-w-2xl max-h-96;
  }

  .media-wrapper[data-size="xl"] {
    @apply max-w-4xl max-h-[500px];
  }
  
  
  /* ==========================================================================
     SPECIAL EFFECTS
     ========================================================================== */
  
  .neon-glow {
    @apply animate-neon-pulse;
  }

  .synthwave-gradient {
    background: linear-gradient(135deg, rgb(var(--primary-500)), rgb(var(--secondary-500)), rgb(var(--accent-500)));
  }

  .glass-morphism {
    @apply bg-bg-surface/20 backdrop-blur-md border border-border-default/30 shadow-lg;
  }
  
  .cyber-heading {
    @apply text-primary-500 font-bold text-glow tracking-wider;
  }
  
  .cyber-link {
    @apply text-secondary-500 hover:text-secondary-400 transition-colors duration-200;
  }
  
  .cyber-link:before {
    content: "[";
    @apply text-accent-500;
  }
  
  .cyber-link:after {
    content: "]";
    @apply text-accent-500;
  }
  
  .scan-line {
    position: relative;
  }
  
  .scan-line::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgb(var(--secondary-500)), transparent);
    animation: synthwave-scan 4s linear infinite;
  }
}

/* Enhanced Utilities Layer - Ported from Legacy */
@layer utilities {
  /* Custom Background Utilities */
  .bg-nightdrive {
    background: linear-gradient(135deg, rgb(var(--bg-primary)), rgb(var(--bg-tertiary)), rgb(var(--bg-surface)));
  }

  /* Text Utilities */
  .text-glow {
    text-shadow: 0 0 10px currentColor;
  }

  .text-glow-strong {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }

  /* Animation Utilities */
  .animate-neon-pulse {
    animation: neon-pulse 2s ease-in-out infinite alternate;
  }

  .animate-synthwave-scan {
    animation: synthwave-scan 3s linear infinite;
  }

  .animate-synthwave-pulse {
    animation: synthwave-pulse 2s ease-in-out infinite;
  }

  .animate-neon-flicker {
    animation: neon-flicker 3s linear infinite;
  }

  .animate-data-stream {
    animation: data-stream 5s linear infinite;
  }

  .animate-phantom-glow {
    animation: phantom-glow 2.5s ease-in-out infinite alternate;
  }

  .animate-lightning {
    animation: lightning 0.5s linear infinite;
  }

  /* Border Utilities */
  .border-neon {
    @apply border border-primary-500;
    box-shadow: 0 0 10px rgb(var(--primary-500) / 0.5);
  }

  .border-cyber {
    @apply border border-secondary-500;
    box-shadow: 0 0 10px rgb(var(--secondary-500) / 0.5);
  }

  /* CRT/Scanline Effects using SVG Filters */
  .filter-crt {
    filter: url(#crt-scanlines);
  }

  .filter-crt-text {
    filter: url(#crt-text-effect);
  }

  .filter-pixelate {
    filter: url(#pixelate-effect);
  }
}

/* Enhanced Keyframe Animations */
@keyframes neon-pulse {
  0% {
    box-shadow: 0 0 5px rgb(var(--primary-500)), 0 0 10px rgb(var(--primary-500));
  }
  100% {
    box-shadow: 0 0 10px rgb(var(--primary-500)), 0 0 20px rgb(var(--primary-500)), 0 0 30px rgb(var(--secondary-500));
  }
}

@keyframes synthwave-scan {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* Theme-Specific Advanced Animations */
@keyframes synthwave-pulse {
  0%, 100% { 
    box-shadow: 0 0 5px rgba(var(--primary-500), 0.5); 
  }
  50% { 
    box-shadow: 0 0 20px rgba(var(--primary-500), 0.8), 0 0 30px rgba(var(--secondary-500), 0.6); 
  }
}

@keyframes neon-flicker {
  0%, 100% { opacity: 1; }
  2%, 6%, 10% { opacity: 0.1; }
  4%, 8% { opacity: 1; }
}

@keyframes data-stream {
  0% { transform: translateX(-100%); opacity: 0; }
  10%, 90% { opacity: 1; }
  100% { transform: translateX(100vw); opacity: 0; }
}

@keyframes phantom-glow {
  0% { 
    text-shadow: 0 0 5px rgba(var(--primary-500), 0.8); 
  }
  100% { 
    text-shadow: 0 0 20px rgba(var(--primary-500), 1), 0 0 30px rgba(var(--secondary-500), 0.8); 
  }
}

@keyframes lightning {
  0%, 90%, 100% { opacity: 1; }
  5%, 15% { opacity: 0.1; }
  10% { opacity: 1; }
}

@keyframes ascii-fade-in {
  0% { opacity: 0; transform: scale(0.95); }
  100% { opacity: 1; transform: scale(1); }
}

/* Enhanced Scrollbar Styling */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--bg-secondary));
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(45deg, rgb(var(--primary-500)), rgb(var(--secondary-500)));
  border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(45deg, rgb(var(--primary-400)), rgb(var(--secondary-400)));
}